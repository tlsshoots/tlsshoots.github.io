{"ast":null,"code":"import _regeneratorRuntime from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/wellingtonvicioso/tlsshoots.github.io/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/wellingtonvicioso/tlsshoots.github.io/src/components/gallery.js\";\nimport React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport ImageLoader from 'react-loading-image';\nimport Loader from 'react-loader-spinner';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { faChevronRight, faChevronLeft, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport logo from '../TLSLogo.png';\nimport img from '../tls-camera.jpg';\nimport cover from '../private.jpg';\nimport '../App.css';\nlibrary.add(faChevronRight);\nlibrary.add(faChevronLeft);\nlibrary.add(faTimes);\n\nvar Gallery =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Gallery, _Component);\n\n  function Gallery() {\n    var _this2;\n\n    _classCallCheck(this, Gallery);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Gallery).call(this));\n    _this2.state = {\n      opacity: 0,\n      body: 'home',\n      activeImg: {\n        index: 0,\n        img: ''\n      },\n      activeImgStyle: {\n        zIndex: -10,\n        opacity: 0\n      },\n      gallery: [],\n      galleryAlbum: []\n    };\n    return _this2;\n  }\n\n  _createClass(Gallery, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      this.fadeOut();\n\n      if (this.props.location.state) {\n        setTimeout(function () {\n          _this.setState({\n            galleryAlbum: _this.props.location.state.album,\n            activeImg: {\n              index: 0,\n              img: ''\n            },\n            activeImgStyle: {\n              zIndex: -10,\n              opacity: 0,\n              transition: '.3s'\n            }\n          });\n\n          _this.fadeIn();\n        }, 0);\n      } else {\n        _this.getAlbum();\n      }\n    }\n  }, {\n    key: \"getAlbum\",\n    value: function () {\n      var _getAlbum = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _this;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this = this;\n                fetch(\"https://enigmatic-lake-22259.herokuapp.com/albums/\".concat(this.props.match.params.id), {\n                  method: 'GET',\n                  mode: 'cors',\n                  headers: {\n                    'Access-Control-Allow-Origin': '*',\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json'\n                  }\n                }).then(function (response) {\n                  return response.json();\n                }).then(function (responseJson) {\n                  console.log('responseJson', responseJson);\n\n                  _this.setState({\n                    galleryAlbum: {\n                      album: responseJson.album,\n                      images: responseJson.images.reverse()\n                    },\n                    activeImg: {\n                      index: 0,\n                      img: ''\n                    },\n                    activeImgStyle: {\n                      zIndex: -10,\n                      opacity: 0,\n                      transition: '.3s'\n                    }\n                  }); // console.log('=====API GET=====', sortedResp)\n\n                }).catch(function (error) {\n                  console.log('=====API error=====', error);\n                });\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function getAlbum() {\n        return _getAlbum.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"fadeIn\",\n    value: function fadeIn() {\n      var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _this = this;\n\n      setTimeout(function () {\n        _this.setState({\n          opacity: 1\n        });\n      }, ms);\n    }\n  }, {\n    key: \"fadeOut\",\n    value: function fadeOut() {\n      var ms = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      var _this = this;\n\n      setTimeout(function () {\n        _this.setState({\n          opacity: 0\n        });\n      }, ms);\n    }\n  }, {\n    key: \"renderGallery\",\n    value: function renderGallery() {\n      var gallery = this.state.galleryAlbum;\n      var array = [];\n\n      if (gallery.images) {\n        for (var i = 0; i < gallery.images.length; i++) {\n          array.push(React.createElement(\"div\", {\n            className: \"img-card\",\n            onClick: this.popImage.bind(this, gallery.images[i].url, i, gallery.images[i].id),\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 115\n            },\n            __self: this\n          }, React.createElement(ImageLoader, {\n            className: \"img-itm-reg\",\n            src: gallery.images[i].url,\n            style: {\n              color: '#fff'\n            },\n            loading: function loading() {\n              return React.createElement(Loader, {\n                type: \"RevolvingDot\",\n                color: \"#616161\",\n                height: \"30\",\n                width: \"30\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 121\n                },\n                __self: this\n              });\n            },\n            error: function error() {\n              return React.createElement(\"div\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 128\n                },\n                __self: this\n              }, \"Loading...\");\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 116\n            },\n            __self: this\n          }), React.createElement(\"img\", {\n            unselectable: \"on\",\n            src: cover,\n            className: \"img-cover\",\n            alt: \"cover\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 130\n            },\n            __self: this\n          }), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 131\n            },\n            __self: this\n          })));\n        }\n      }\n\n      return array;\n    }\n  }, {\n    key: \"popImage\",\n    value: function popImage(cardImg, idx, imageId) {\n      var _this = this;\n\n      this.fadeOut();\n      setTimeout(function () {\n        _this.setState({\n          activeImg: {\n            index: idx,\n            img: cardImg\n          },\n          activeImgStyle: {\n            zIndex: 10,\n            opacity: 1\n          },\n          imageId: imageId\n        });\n\n        _this.fadeIn();\n      }, 0);\n    }\n  }, {\n    key: \"togglePopImage\",\n    value: function togglePopImage() {\n      var _this = this;\n\n      this.fadeOut();\n      setTimeout(function () {\n        _this.setState({\n          activeImgStyle: {\n            zIndex: -10,\n            opacity: 0\n          },\n          imageId: 0\n        });\n\n        _this.fadeIn();\n      }, 0);\n      setTimeout(function () {\n        _this.setState({\n          activeImg: {\n            index: 0,\n            img: ''\n          }\n        });\n\n        _this.fadeIn();\n      }, 100);\n    }\n  }, {\n    key: \"nextPic\",\n    value: function nextPic(e) {\n      e.preventDefault();\n      console.log('here');\n      var num = this.state.activeImg.index + 1;\n\n      if (num < this.state.galleryAlbum.images.length) {\n        this.setState({\n          activeImg: {\n            index: num,\n            img: this.state.galleryAlbum.images[num].url\n          },\n          imageId: this.state.galleryAlbum.images[num].id\n        });\n      }\n    }\n  }, {\n    key: \"prevPic\",\n    value: function prevPic(e) {\n      e.preventDefault();\n      var num = this.state.activeImg.index - 1;\n\n      if (num >= 0) {\n        this.setState({\n          activeImg: {\n            index: num,\n            img: this.state.galleryAlbum.images[num].url\n          },\n          imageId: this.state.galleryAlbum.images[num].id\n        });\n      }\n    }\n  }, {\n    key: \"setLinkStyle\",\n    value: function setLinkStyle() {\n      if (this.refs[\"pop\"]) {\n        var elem = this.refs[\"pop\"];\n        return {\n          position: 'absolute',\n          bottom: elem.bottom,\n          height: elem.height,\n          left: elem.left,\n          right: elem.right,\n          top: elem.top,\n          width: elem.width,\n          zIndex: 10001\n        };\n      } else {\n        return {\n          height: 0\n        };\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          height: 'auto',\n          position: 'relative'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        unselectable: \"on\",\n        src: logo,\n        className: \"logo-2\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"img-gal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, this.renderGallery()), React.createElement(\"div\", {\n        style: this.state.activeImgStyle,\n        className: \"pop-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        onClick: this.togglePopImage.bind(this),\n        style: {\n          position: 'absolute',\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n          background: 'rgba(0,0,0,0)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }), React.createElement(\"img\", {\n        unselectable: \"on\",\n        ref: \"pop\",\n        src: this.state.activeImg.img,\n        className: \"popped-img\",\n        style: {\n          resizeMode: 'contain',\n          transition: '1s',\n          background: '#000',\n          zIndex: 10001\n        },\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }), React.createElement(Link, {\n        to: \"/images/\".concat(this.state.imageId),\n        style: this.setLinkStyle(),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        onClick: this.prevPic.bind(this),\n        className: \"icon-l\",\n        style: {\n          zIndex: 10002\n        },\n        icon: faChevronLeft,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }), React.createElement(FontAwesomeIcon, {\n        onClick: this.nextPic.bind(this),\n        className: \"icon-r\",\n        style: {\n          zIndex: 10002\n        },\n        icon: faChevronRight,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Gallery;\n}(Component);\n\nexport default Gallery;","map":{"version":3,"sources":["/Users/wellingtonvicioso/tlsshoots.github.io/src/components/gallery.js"],"names":["React","Component","Link","ImageLoader","Loader","FontAwesomeIcon","library","faChevronRight","faChevronLeft","faTimes","logo","img","cover","add","Gallery","state","opacity","body","activeImg","index","activeImgStyle","zIndex","gallery","galleryAlbum","_this","fadeOut","props","location","setTimeout","setState","album","transition","fadeIn","getAlbum","fetch","match","params","id","method","mode","headers","Accept","then","response","json","responseJson","console","log","images","reverse","catch","error","ms","array","i","length","push","popImage","bind","url","color","cardImg","idx","imageId","e","preventDefault","num","refs","elem","position","bottom","height","left","right","top","width","renderGallery","togglePopImage","background","resizeMode","setLinkStyle","prevPic","nextPic"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from \"react-router-dom\";\nimport ImageLoader from 'react-loading-image'\nimport Loader from 'react-loader-spinner'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport { faChevronRight, faChevronLeft, faTimes } from '@fortawesome/free-solid-svg-icons'\n\nimport logo from '../TLSLogo.png';\nimport img from '../tls-camera.jpg'\nimport cover from '../private.jpg'\n\nimport '../App.css';\n\nlibrary.add(faChevronRight)\nlibrary.add(faChevronLeft)\nlibrary.add(faTimes)\n\nclass Gallery extends Component {\n\n  constructor() {\n    super();\n    this.state = {\n      opacity: 0,\n      body: 'home',\n      activeImg: {index: 0, img: ''},\n      activeImgStyle: {\n        zIndex: -10,\n        opacity: 0\n      },\n      gallery: [],\n      galleryAlbum: [],\n    }\n  }\n\n  componentDidMount() {\n    let _this = this;\n    this.fadeOut();\n    if (this.props.location.state) {\n      setTimeout(function(){\n        _this.setState({\n          galleryAlbum: _this.props.location.state.album,\n          activeImg: {index: 0, img: ''},\n          activeImgStyle: {\n            zIndex: -10,\n            opacity: 0,\n            transition: '.3s'\n          }\n        })\n        _this.fadeIn();\n      }, 0);\n\n    } else {\n      _this.getAlbum()\n    }\n  }\n\n  async getAlbum() {\n    let _this = this;\n\n    fetch(`https://enigmatic-lake-22259.herokuapp.com/albums/${this.props.match.params.id}`, {\n      method: 'GET',\n      mode: 'cors',\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      }\n    })\n    .then(response => response.json())\n    .then((responseJson) => {\n      console.log('responseJson', responseJson)\n      _this.setState({\n        galleryAlbum: {album: responseJson.album, images: responseJson.images.reverse()},\n        activeImg: {index: 0, img: ''},\n        activeImgStyle: {\n          zIndex: -10,\n          opacity: 0,\n          transition: '.3s'\n        }\n      })\n\n      // console.log('=====API GET=====', sortedResp)\n    })\n    .catch(error => {\n      console.log('=====API error=====', error)\n    })\n  }\n\n  fadeIn(ms=0) {\n    let _this = this;\n    setTimeout(function(){\n      _this.setState({\n        opacity: 1,\n      })\n    }, ms);\n  }\n\n  fadeOut(ms=0) {\n    let _this = this;\n    setTimeout(function(){\n      _this.setState({\n        opacity: 0,\n      })\n    }, ms);\n  }\n\n  renderGallery() {\n    let gallery = this.state.galleryAlbum\n    let array = [];\n    if (gallery.images) {\n      for (var i = 0; i < gallery.images.length; i++) {\n\n        array.push(\n          <div className=\"img-card\" onClick={this.popImage.bind(this, gallery.images[i].url, i, gallery.images[i].id)}>\n          <ImageLoader\n          className=\"img-itm-reg\"\n          src={gallery.images[i].url}\n          style={{color: '#fff'}}\n          loading={() =>\n            <Loader\n            type=\"RevolvingDot\"\n            color=\"#616161\"\n            height=\"30\"\n            width=\"30\"\n            />\n          }\n          error={() => <div>Loading...</div>}\n          />\n          <img unselectable=\"on\" src={cover} className=\"img-cover\" alt=\"cover\" />\n          <p></p>\n          </div>\n        )\n      }\n    }\n    return array;\n  }\n\n  popImage(cardImg, idx, imageId) {\n    let _this = this;\n    this.fadeOut();\n    setTimeout(function(){\n      _this.setState({\n        activeImg: {index: idx, img: cardImg},\n        activeImgStyle: {\n          zIndex: 10,\n          opacity: 1\n        },\n        imageId: imageId\n      })\n      _this.fadeIn();\n    }, 0);\n  }\n\n  togglePopImage() {\n    let _this = this\n    this.fadeOut();\n    setTimeout(function(){\n      _this.setState({\n        activeImgStyle: {\n          zIndex: -10,\n          opacity: 0,\n        },\n        imageId: 0\n      })\n      _this.fadeIn();\n    }, 0);\n\n    setTimeout(function(){\n      _this.setState({\n        activeImg: {index: 0, img: ''},\n      })\n      _this.fadeIn();\n    }, 100);\n  }\n\n\n  nextPic(e) {\n    e.preventDefault();\n    console.log('here')\n    let num = this.state.activeImg.index + 1\n    if (num < this.state.galleryAlbum.images.length) {\n      this.setState({\n        activeImg: {\n          index: num, img: this.state.galleryAlbum.images[num].url\n        },\n        imageId: this.state.galleryAlbum.images[num].id\n      })\n    }\n  }\n\n  prevPic(e) {\n    e.preventDefault();\n    let num = this.state.activeImg.index - 1\n    if (num >= 0) {\n      this.setState({\n        activeImg: {\n          index: num, img: this.state.galleryAlbum.images[num].url\n        },\n        imageId: this.state.galleryAlbum.images[num].id\n      })\n    }\n  }\n\n  setLinkStyle() {\n    if (this.refs[\"pop\"]) {\n      let elem = this.refs[\"pop\"]\n      return {\n        position: 'absolute',\n        bottom: elem.bottom,\n        height: elem.height,\n        left: elem.left,\n        right: elem.right,\n        top: elem.top,\n        width: elem.width,\n        zIndex: 10001\n      }\n\n    } else {\n      return {height: 0}\n    }\n  }\n\n  render() {\n    return (\n      <div style={{height: 'auto', position: 'relative'}}>\n\n        <Link to=\"/\"><img unselectable=\"on\" src={logo} className=\"logo-2\" alt=\"logo\" /></Link>\n        <div className=\"img-gal\">\n          {\n            this.renderGallery()\n          }\n        </div>\n        <div style={this.state.activeImgStyle}  className=\"pop-img\">\n            <div onClick={this.togglePopImage.bind(this)} style={{position: 'absolute', top: 0, bottom: 0, left: 0, right: 0, background: 'rgba(0,0,0,0)'}}/>\n            <img unselectable=\"on\" ref=\"pop\" src={this.state.activeImg.img} className=\"popped-img\" style={{resizeMode: 'contain', transition: '1s', background: '#000', zIndex:10001}} alt=\"logo\" />\n            <Link to={`/images/${this.state.imageId}`} style={this.setLinkStyle()}>\n            </Link>\n            <FontAwesomeIcon onClick={this.prevPic.bind(this)} className=\"icon-l\" style={{zIndex:10002}} icon={faChevronLeft} />\n            <FontAwesomeIcon onClick={this.nextPic.bind(this)} className=\"icon-r\" style={{zIndex:10002}} icon={faChevronRight} />\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default Gallery;\n"]},"metadata":{},"sourceType":"module"}